@model quangcao.Models.ViewModel.LienHeViewModel

@{
    ViewData["Title"] = "Liên hệ với chúng tôi";
}
<link href="~/css/lienhecreate.css" rel="stylesheet" />
<!-- Load Bootstrap CSS & Icons -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet" />
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">

<div class="contact-page">
    <!-- Contact Header -->
    <div class="contact-header">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-6">
                    <h1 class="contact-title">Liên Hệ Với Chúng Tôi</h1>
                    <p class="contact-subtitle">Chúng tôi luôn sẵn sàng lắng nghe và hỗ trợ bạn. Hãy để lại thông tin và chúng tôi sẽ liên hệ lại trong thời gian sớm nhất.</p>
                </div>
                <div class="col-lg-6 d-none d-lg-block">
                    <div class="contact-illustration">
                        <i class="bi bi-chat-dots-fill"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="container py-5">
        <div class="row">
            <!-- Contact Information -->
            <div class="col-lg-4 mb-4">
                <div class="contact-info-card">
                    <h3 class="info-title">Thông Tin Liên Hệ</h3>
                    
                    <div class="info-item">
                        <div class="info-icon">
                            <i class="bi bi-geo-alt-fill"></i>
                        </div>
                        <div class="info-content">
                            <h4>Địa Chỉ</h4>
                            <p>Khu công nghiệp Thạch Khôi, Hải Dương, Việt Nam</p>
                        </div>
                    </div>
                    
                    <div class="info-item">
                        <div class="info-icon">
                            <i class="bi bi-telephone-fill"></i>
                        </div>
                        <div class="info-content">
                            <h4>Điện Thoại</h4>
                            <p><a href="tel:+84123456789">09 77 344 567</a></p>
                        </div>
                    </div>
                    
                    <div class="info-item">
                        <div class="info-icon">
                            <i class="bi bi-envelope-fill"></i>
                        </div>
                        <div class="info-content">
                            <h4>Email</h4>
                            <p><a href="mailto:Invinhphat2025@gmail.com">Invinhphat2025@gmail.com</a></p>
                        </div>
                    </div>
                    
                    <div class="info-item">
                        <div class="info-icon">
                            <i class="bi bi-clock-fill"></i>
                        </div>
                        <div class="info-content">
                            <h4>Giờ Làm Việc</h4>
                            <p>Thứ Hai - Chủ Nhật:<br>Sáng: 7:00 - 11:00<br>Chiều : 8:00 - 12:00</p>
                        </div>
                    </div>
                    
                    <div class="social-links">
                        <a href="#" class="social-link facebook"><i class="bi bi-facebook"></i></a>
                        <a href="#" class="social-link twitter"><i class="bi bi-twitter"></i></a>
                        <a href="#" class="social-link instagram"><i class="bi bi-instagram"></i></a>
                        <a href="#" class="social-link linkedin"><i class="bi bi-linkedin"></i></a>
                    </div>
                </div>
            </div>
            
            <!-- Contact Form -->
            <div class="col-lg-8">
                <div class="contact-form-card">
                    <div class="form-header">
                        <h3>Gửi Tin Nhắn</h3>
                        <p>Vui lòng điền đầy đủ thông tin bên dưới</p>
                    </div>
                    
                    <form asp-action="Create" method="post" enctype="multipart/form-data" class="needs-validation contact-form" novalidate>
                        <!-- Validation summary hiển thị lỗi -->
                        <div asp-validation-summary="ModelOnly" class="alert alert-danger alert-dismissible fade show" role="alert">
                            <strong>Vui lòng sửa các lỗi sau:</strong>
                            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                        </div>

                        <div class="row">
                            <!-- Họ và tên -->
                            <div class="col-md-6 mb-3">
                                <div class="form-floating">
                                    <input asp-for="HoTen" class="form-control" id="floatingName" placeholder="Nhập họ tên của bạn" required />
                                    <label asp-for="HoTen" for="floatingName">Họ và tên</label>
                                    <div class="invalid-feedback">Vui lòng nhập họ tên của bạn</div>
                                </div>
                                <span asp-validation-for="HoTen" class="text-danger"></span>
                            </div>

                            <!-- Số điện thoại -->
                            <div class="col-md-6 mb-3">
                                <div class="form-floating">
                                    <input asp-for="SoDienThoai" class="form-control" id="floatingPhone" placeholder="Nhập số điện thoại của bạn" required />
                                    <label asp-for="SoDienThoai" for="floatingPhone">Số điện thoại</label>
                                    <div class="invalid-feedback">Vui lòng nhập số điện thoại hợp lệ</div>
                                </div>
                                <span asp-validation-for="SoDienThoai" class="text-danger"></span>
                            </div>
                        </div>

                        <!-- Email -->
                        <div class="mb-3">
                            <div class="form-floating">
                                <input asp-for="Email" class="form-control" id="floatingEmail" placeholder="example@email.com" required />
                                <label asp-for="Email" for="floatingEmail">Email của bạn</label>
                                <div class="invalid-feedback">Vui lòng nhập địa chỉ email hợp lệ</div>
                            </div>
                            <small id="emailHelp" class="form-text text-muted">Chúng tôi sẽ không chia sẻ email của bạn với bất kỳ ai khác.</small>
                            <span asp-validation-for="Email" class="text-danger"></span>
                        </div>

                        <!-- Tiêu đề -->
                        <div class="mb-3">
                            <div class="form-floating">
                                <input asp-for="TieuDe" class="form-control" id="floatingSubject" placeholder="Nhập tiêu đề liên hệ" required />
                                <label asp-for="TieuDe" for="floatingSubject">Tiêu đề</label>
                                <div class="invalid-feedback">Vui lòng nhập tiêu đề</div>
                            </div>
                            <span asp-validation-for="TieuDe" class="text-danger"></span>
                        </div>

                        <!-- Nội dung -->
                        <div class="mb-4">
                            <div class="form-floating">
                                <textarea asp-for="NoiDung" class="form-control" id="floatingContent" style="height: 150px" placeholder="Nội dung bạn muốn gửi..." required></textarea>
                                <label asp-for="NoiDung" for="floatingContent">Nội dung</label>
                                <div class="invalid-feedback">Vui lòng nhập nội dung tin nhắn</div>
                            </div>
                            <span asp-validation-for="NoiDung" class="text-danger"></span>
                        </div>

                        <!-- File đính kèm (tùy chọn) -->
                        <div class="mb-4">
                            <label class="form-label">Tệp đính kèm (tùy chọn)</label>
                            <input type="file" class="form-control" name="FileAttachment" id="fileAttachment" />
                            <div class="form-text">Hỗ trợ các định dạng: PDF, DOC, DOCX, JPG, PNG (tối đa 5MB)</div>
                        </div>

                        <!-- Nút submit -->
                        <div class="form-actions">
                            <button type="submit" class="btn btn-primary btn-submit">
                                <i class="bi bi-send-fill me-2"></i>Gửi liên hệ
                            </button>
                            <a asp-action="Index" class="btn btn-outline-secondary btn-back">
                                <i class="bi bi-arrow-left me-2"></i>Quay lại
                            </a>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        
        <!-- Map Section -->
        <div class="row mt-5">
            <div class="col-12">
                <div class="map-container">
                    <div class="map-header">
                        <h3><i class="bi bi-geo-alt-fill me-2"></i>Vị Trí Của Chúng Tôi</h3>
                    </div>
                    <div class="map-wrapper">
                        <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3724.7984724471186!2d106.34689257511525!3d21.00154988061599!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3135b36515c34a97%3A0x6071b1769659c2d3!2sKhu%20c%C3%B4ng%20nghi%E1%BB%87p%20Th%E1%BA%A1ch%20Kh%C3%B4i!5e0!3m2!1svi!2s!4v1715180868424!5m2!1svi!2s"
                                allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- FAQ Section -->
        <div class="row mt-5">
            <div class="col-12">
                <div class="faq-section">
                    <h3 class="faq-title">Câu Hỏi Thường Gặp</h3>
                    
                    <div class="accordion" id="accordionFAQ">
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingOne">
                                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                                    Thời gian phản hồi liên hệ là bao lâu?
                                </button>
                            </h2>
                            <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne" data-bs-parent="#accordionFAQ">
                                <div class="accordion-body">
                                    Chúng tôi sẽ phản hồi mọi liên hệ trong vòng 24 giờ làm việc. Đối với các yêu cầu khẩn cấp, vui lòng gọi trực tiếp đến số điện thoại của chúng tôi để được hỗ trợ nhanh nhất.
                                </div>
                            </div>
                        </div>
                        
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingTwo">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                    Làm thế nào để đặt lịch hẹn trực tiếp?
                                </button>
                            </h2>
                            <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#accordionFAQ">
                                <div class="accordion-body">
                                    Để đặt lịch hẹn trực tiếp, bạn có thể điền vào biểu mẫu liên hệ này và ghi rõ yêu cầu đặt lịch hẹn trong phần nội dung, hoặc gọi trực tiếp đến số điện thoại của chúng tôi trong giờ làm việc.
                                </div>
                            </div>
                        </div>
                        
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingThree">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                                    Tôi có thể gửi yêu cầu báo giá qua form này không?
                                </button>
                            </h2>
                            <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#accordionFAQ">
                                <div class="accordion-body">
                                    Vâng, bạn có thể sử dụng form này để gửi yêu cầu báo giá. Vui lòng cung cấp càng nhiều thông tin chi tiết càng tốt về dịch vụ bạn quan tâm để chúng tôi có thể cung cấp báo giá chính xác nhất.
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- JavaScript: Bootstrap Bundle (kèm Popper) & Custom JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Form validation
        const forms = document.querySelectorAll('.needs-validation');
        Array.from(forms).forEach(form => {
            form.addEventListener('submit', event => {
                if (!form.checkValidity()) {
                    event.preventDefault();
                    event.stopPropagation();
                }
                form.classList.add('was-validated');
            }, false);
        });

        // Animate elements on scroll
        const animateOnScroll = () => {
            const elements = document.querySelectorAll('.contact-info-card, .contact-form-card, .map-container, .faq-section');
            
            elements.forEach(element => {
                const elementPosition = element.getBoundingClientRect().top;
                const windowHeight = window.innerHeight;
                
                if (elementPosition < windowHeight - 100) {
                    element.style.opacity = '1';
                    element.style.transform = 'translateY(0)';
                }
            });
        };

        // Set initial state for animation
        const elementsToAnimate = document.querySelectorAll('.contact-info-card, .contact-form-card, .map-container, .faq-section');
        elementsToAnimate.forEach(element => {
            element.style.opacity = '0';
            element.style.transform = 'translateY(20px)';
            element.style.transition = 'opacity 0.5s ease, transform 0.5s ease';
        });

        // Run animation on load and scroll
        animateOnScroll();
        window.addEventListener('scroll', animateOnScroll);

        // File upload validation
        const fileInput = document.getElementById('fileAttachment');
        if (fileInput) {
            fileInput.addEventListener('change', function() {
                const maxSize = 5 * 1024 * 1024; // 5MB
                const allowedTypes = ['application/pdf', 'application/msword', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document', 'image/jpeg', 'image/png'];
                
                if (this.files.length > 0) {
                    const file = this.files[0];
                    
                    // Check file size
                    if (file.size > maxSize) {
                        alert('Kích thước tệp quá lớn. Vui lòng chọn tệp nhỏ hơn 5MB.');
                        this.value = '';
                        return;
                    }
                    
                    // Check file type
                    if (!allowedTypes.includes(file.type)) {
                        alert('Định dạng tệp không được hỗ trợ. Vui lòng chọn tệp PDF, DOC, DOCX, JPG hoặc PNG.');
                        this.value = '';
                        return;
                    }
                }
            });
        }
    });
</script>